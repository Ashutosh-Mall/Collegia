<% layout('./layouts/boilerplate.ejs') -%>

<div class="container my-4">
  <h2>Edit Event</h2>
  <form action="/events/<%= event._id %>?_method=PUT" method="POST">

    <div class="mb-3">
      <label for="title" class="form-label">Title:</label>
      <input type="text" class="form-control" id="title" name="event[title]" value="<%= event.title %>" required>
    </div>

    <div class="mb-3">
      <label for="description" class="form-label">Description:</label>
      <textarea class="form-control" id="description" name="event[description]" rows="4" required><%= event.description %></textarea>
    </div>

    <div class="mb-3">
      <label for="category" class="form-label">Category:</label>
      <select class="form-select" id="category" name="event[category]" required>
        <option value="Tech" <%= event.category==='Tech'?'selected':'' %>>Tech</option>
        <option value="Cultural" <%= event.category==='Cultural'?'selected':'' %>>Cultural</option>
        <option value="Sports" <%= event.category==='Sports'?'selected':'' %>>Sports</option>
        <option value="Non-Cultural" <%= event.category==='Non-Cultural'?'selected':'' %>>Non-Cultural</option>
        <option value="Workshop" <%= event.category==='Workshop'?'selected':'' %>>Workshop</option>
        <option value="Seminar" <%= event.category==='Seminar'?'selected':'' %>>Seminar</option>
        <option value="Webinar" <%= event.category==='Webinar'?'selected':'' %>>Webinar</option>
        <option value="Entrepreneurship" <%= event.category==='Entrepreneurship'?'selected':'' %>>Entrepreneurship</option>
        <option value="Networking" <%= event.category==='Networking'?'selected':'' %>>Networking</option>
        <option value="Competition" <%= event.category==='Competition'?'selected':'' %>>Competition</option>
        <option value="Other" <%= event.category==='Other'?'selected':'' %>>Other</option>
      </select>
    </div>

    <div class="row mb-3">
      <div class="col-md-4">
        <label for="date" class="form-label">Date:</label>
        <input type="date" class="form-control" id="date" name="event[date]" value="<%= event.date.toISOString().split('T')[0] %>" required>
      </div>
      <div class="col-md-4">
        <label for="time" class="form-label">Time:</label>
        <input type="text" class="form-control" id="time" name="event[time]" value="<%= event.time %>" required>
      </div>
      <div class="col-md-4">
        <label for="maxParticipants" class="form-label">Max Participants:</label>
        <input type="number" class="form-control" id="maxParticipants" name="event[maxParticipants]" value="<%= event.maxParticipants %>" required>
      </div>
    </div>

    <div class="mb-3">
      <label for="organizer" class="form-label">Organizer:</label>
      <input type="text" class="form-control" id="organizer" name="event[organizer]" value="<%= event.organizer %>" required>
    </div>

    <div class="mb-3">
      <label for="location" class="form-label">Location:</label>
      <input type="text" class="form-control" id="location" name="event[location]" value="<%= event.location %>" required>
    </div>

    <div class="mb-3">
      <label for="image" class="form-label">Image URL:</label>
      <input type="url" class="form-control" id="image" name="event[image]" value="<%= event.image %>">
    </div>

    <div class="mb-3">
      <label for="tags" class="form-label">Tags:</label>
      <input type="text" class="form-control" id="tags" name="event[tags]" value="<%= event.tags %>">
    </div>

    <button type="submit" class="btn btn-success">Update Event</button>
  </form>
</div>
